CREATE TABLE IF NOT EXISTS cross_promotion_opportunities (id UUID PRIMARY KEY DEFAULT uuid_generate_v4(), created_at TIMESTAMPTZ DEFAULT NOW(), updated_at TIMESTAMPTZ DEFAULT NOW(), user_id UUID NOT NULL, newsletter_name TEXT NOT NULL, description TEXT, category TEXT DEFAULT 'General', subscribers INTEGER DEFAULT 0, revenue_per_click DECIMAL(10,4) DEFAULT 0, budget DECIMAL(10,2) DEFAULT 0, duration TEXT, target_audience TEXT, requirements TEXT, status TEXT DEFAULT 'active' CHECK (status IN ('active', 'paused', 'completed', 'cancelled'))); CREATE TABLE IF NOT EXISTS cross_promotion_applications (id UUID PRIMARY KEY DEFAULT uuid_generate_v4(), created_at TIMESTAMPTZ DEFAULT NOW(), updated_at TIMESTAMPTZ DEFAULT NOW(), user_id UUID NOT NULL, opportunity_id UUID NOT NULL, newsletter_name TEXT NOT NULL, description TEXT, budget DECIMAL(10,2) DEFAULT 0, status TEXT DEFAULT 'pending' CHECK (status IN ('pending', 'approved', 'rejected')), admin_notes TEXT, applied_at TIMESTAMPTZ DEFAULT NOW()); ALTER TABLE cross_promotion_opportunities ENABLE ROW LEVEL SECURITY; ALTER TABLE cross_promotion_applications ENABLE ROW LEVEL SECURITY;
